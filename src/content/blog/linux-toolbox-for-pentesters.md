---
author: taylor
slug: linux-toolbox-for-pentesters
featured: false
draft: false
tags:
  - red team
  - linux
  - workflow
description: Some cool and quick optimizations to make pentesting a little bit easier.
title: The Linux Toolbox for Pentesters
pubDatetime: 2024-04-12T06:39:44.000Z
---

Here's a collection of useful Linux tips and tricks that have improved my workflow throughout my career. I will continue to update this post as I come across more awesome techniques.

## Table of Contents

## Fish

Why use fish?

- You get to tell your friends you use fish and not bash

To change the current shell to fish, run the following:

```zsh
echo /usr/local/bin/fish | sudo tee -a /etc/shells && chsh -s /usr/local/bin/fish
```

### Installing omf

Next, install [omf](https://github.com/oh-my-fish/oh-my-fish).

```fish
curl https://raw.githubusercontent.com/oh-my-fish/oh-my-fish/master/bin/install | fish
```

### Setting up a theme

Personally, I like to use the [coffeandcode](https://github.com/oh-my-fish/theme-coffeeandcode).

```fish
omf install coffeeandcode
omf theme coffeeandcode
```

### Configuring aliases

To configure aliases, run the following in the fish shell:

```fish
# this will run rm -i your-argument, mind the space between "-i" and "your-argument"
alias rmi "rm -i"
rmi bruh
# for a bit more complex stuff (no space after command)
function new-folder
  mkdir /opt/project-$argv
end
funcsave new-folder
```

Some aliases I've used:

```fish
# basically a proxychains shortcut
alias pxc 'proxychains -q'
# search history for keywords
alias hg 'history | grep'
# i stole this from reddit
alias myip 'ip addr show eth0 | grep -oP "(?<=inet\s)\d+(\.\d+){3}"'
# opens up chromium with a google search appended
# usage: gsearch "what is love"
function gsearch
  chromium https://www.google.com/search\?q=$argv
end
funcsave gsearch
```

## Tmux

Install tmux:

```fish
sudo apt install tmux
```

Start new tmux session with name:

```fish
tmux new -s mysession
```

Attach to a named tmux session:

```fish
tmux a -t mysession
```

List sessions:

```fish
tmux ls
```

Kill a session:

```fish
tmux kill-session -t mysession
```

### Tmux shortcuts to know

- Default prefix: `Ctrl` + `B`
- Create new window: `Ctrl` + `B` -> `c`
- Split window into two vertical panes: `Ctrl` + `B` -> `%`
  - To remember: imagine a vertical line going down from the `%` key on your keyboard
- Split window into two horizontal panes: `Ctrl` + `B` -> `"`
  - To remember: imagine a horizontal line going left from the `"` key on your keyboard
- Switch between windows: `Ctrl` + `B` -> Window #
- Switch between panes: `Ctrl` + `B` -> Arrow key
- List sessions: `Ctrl` + `B` -> `s`
- Detach from current session: `Ctrl` + `B` -> `d`
- Create new session from existing session: `: new -s mysession`
- Save tmux output:
  - `:capture-pane -S -`
  - `:save-buffer filename.txt`

### Tmux plugins

Install tmux plugin manager:

```fish
git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm
```

Add this to the bottom of `~/.tmux.conf`:

```fish
# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'

# Other examples:
# set -g @plugin 'github_username/plugin_name'
# set -g @plugin 'github_username/plugin_name#branch'
# set -g @plugin 'git@github.com:user/plugin'
# set -g @plugin 'git@bitbucket.com:user/plugin'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
```

To install plugins:

Add plugin into `~/.tmux.conf`:

```fish
set -g @plugin myplugin
```

Then run `Ctrl` + `B` -> `I` to install.

To uninstall, run `Ctrl` + `B` > `Alt` + `u`.

### Tmux config file

My personal config file:

```fish
# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'catppuccin/tmux'
set -g @nova-nerdfonts false
set -g base-index 1
set -g history-limit 50000

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
```

Here's a [cool example](https://github.com/rsecke/dotfiles/blob/master/.tmux.conf) of another tmux config file.

## 7za

To add files to archive:

```fish
7za a myfiles.zip *
```

To extract an archive to a specific directory:

```fish
7za x myfiles.zip -y -o/path/to/directory
```

## Install common tooling

I have a tool called [kali-on-command](https://github.com/fyrworx4/kali-on-command) that installs some common tools for red team operations through Ansible. It's primarily meant for Red Team vs. Blue Team competitions but can probably be used for typical Kali usage.

```fish
# install dependencies
apt -y update
apt -y install ansible-core sshpass
ansible-galaxy collection install community.general

# clone git repo
git clone https://github.com/fyrworx4/kali-on-command.git
cd kali-on-command

# run playbook
ansible-playbook -c local -i localhost, playbook.yml
```

## References

- [https://stackoverflow.com/questions/2762994/define-an-alias-in-fish-shell](https://stackoverflow.com/questions/2762994/define-an-alias-in-fish-shell)
- [https://www.reddit.com/r/Hacking_Tutorials/comments/ncb22y/useful_bash_aliases_for_ethical_hackingpen_testing/](https://www.reddit.com/r/Hacking_Tutorials/comments/ncb22y/useful_bash_aliases_for_ethical_hackingpen_testing/)
- [https://gist.github.com/MohamedAlaa/2961058](https://gist.github.com/MohamedAlaa/2961058)
- [https://tmuxcheatsheet.com/\`](https://tmuxcheatsheet.com/%60)
- [https://github.com/tmux-plugins/tpm](https://github.com/tmux-plugins/tpm)
